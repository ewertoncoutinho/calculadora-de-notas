/*!
 * Caculadora de Notas
 * Copyright(c) 2018 Ewerton Coutinho
 * Licensed under MIT (https://github.com/ewertoncoutinho/calculadora-de-notas/blob/master/LICENSE)
 */var numInput=3,minhasNotas=[],notasError=[],decimal=function(t){return t.toFixed(2)},notaFinal=function(t){return(50-6*t)/4},getNota=function(t){return t},sum=function(t,e){return t+e},clean=function(){minhasNotas.length=0,notasError.length=0};document.querySelector("[result]").onclick=function(){resultado()},document.querySelector("[reset-notas]").onclick=function(){resetNotas()},document.querySelector("[add-notas]").onclick=function(){notas()};var shakeAnimation=function(){setTimeout(function(){$("#my-alert").addClass("shake-animation")}),$("#my-alert").removeClass("shake-animation")},alerta=function(t,e){document.querySelectorAll("#myTextAlert").length<1?myalert(t,e):document.querySelector("#myTextAlert").innerText=e,shakeAnimation()},notas=function(){document.querySelectorAll("input").length<6?(numInput+=1,elementoInput()):alerta("alert-warning","Você atingiu o limite de notas.")},resetNotas=function(){for(window.createInput=document.getElementById("inputnotas").innerHTML="",numInput=1;numInput<=3;numInput++)window.createInput=elementoInput();document.getElementById("demo").innerHTML="",numInput=3},elementoInput=function(){window.createInput=document.createElement("div"),createInput.setAttribute("class","input-group mb-1 col-md-4 col-sm-12 col-lg-4"),createInput.setAttribute("id","mygrup");var t=document.createElement("div");t.setAttribute("class","input-group-prepend");var e=document.createElement("span");e.setAttribute("class","input-group-text"),e.innerText=numInput+"ª Nota";var n=document.createElement("input");n.placeholder="Digite sua Nota",n.setAttribute("name","my-input"),n.setAttribute("type","number"),n.setAttribute("class","form-control"),createInput.appendChild(t).appendChild(e),createInput.appendChild(n),document.getElementById("inputnotas").appendChild(createInput)},myalert=function(t,e){return document.getElementById("my-alert").innerHTML='<div class="alert '+t+' myalert alert-dismissible fade show" role="alert"><div id="myTextAlert">'+e+'</div><button type="button" class="close" data-dismiss="alert" aria-label="close"><span aria-hidden="true">×</span></button></div>'},resultadoFinal=function(t){return 0<=t&&t<4?"Sua média é <strong>"+decimal(t)+'</strong><br><span class="h6">Não foi desta vez. :(</span>':7<=t&&t<=10?"Sua média é <strong>"+decimal(t)+'</strong><br><span class="h6">Parabéns! Você esta aprovado! :D</span>':"Sua média é <strong>"+decimal(t)+'</strong><br><span class="h6">Você precisará de <strong>'+decimal(notaFinal(t))+"</strong> na avaliação final.</span>"},validate=function(t){var e=parseFloat(t.value);isNaN(e)||(0<=e&&e<=10?minhasNotas.push(e):notasError.push(e))},display=function(t){return'<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="exampleModalLabel">Resultado</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="modal-body"><div class="mt-3 col h5">'+t+'</div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button></div></div></div></div>'},resultado=function(){if(document.getElementsByName("my-input").forEach(function(t){return validate(t)}),0===notasError.length&&2<=minhasNotas.length){var t=minhasNotas.map(getNota).reduce(sum)/minhasNotas.length;document.getElementById("demo").innerHTML=display(resultadoFinal(t)),$(".alert").alert("close"),clean()}else document.getElementById("demo").innerHTML="",0<notasError.length?alerta("alert-warning","Você informou "+notasError.length+" "+(1<notasError.length?"notas":"nota")+" "+(1<notasError.length?"inválidas":"inválida")+". Por favor insira "+(1<notasError.length?"valores":"um valor")+" entre 0 e 10"):alerta("alert-warning","Você esqueceu de informar alguma nota."),clean()};